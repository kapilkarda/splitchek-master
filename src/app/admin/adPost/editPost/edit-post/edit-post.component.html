<div class="content-wrapper">
	<section class="content-header">
   	<div class="container-fluid">
      	<div class="row mb-2">
				<div class="col-sm-12">
					<h1 class="m-0 text-dark">Edit Post</h1>
				</div>
			</div>
		</div>
	</section>
	<section class="content">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-10 offset-1">
					<div class="card card-primary">
						<div class="card-header">
							<h3 class="card-title">Edit Post</h3>
            </div>

						<form name="addcategoryform" #addcategoryForm="ngForm">
              <div class="card-body table-responsive p-0">

                  <div class="card-body">
                    <div class="row">
                      <div class="form-group col-6">
                        <label for="Name">Title</label>
                        <input class="form-control"  [(ngModel)]="model.productTitle" name="productTitle" required/>
                      </div>
                      <div class="form-group col-6">
                        <label for="image">Image</label>
                        <img *ngIf="model.productImage != ''" [src]="model.productImage" style="width: 60px;padding:0 10px"/><br>
                        <p-fileUpload #fubauto mode="basic" name="productImage[]" [url]="uploadUrl+'imageuploadadverpost'" accept="image/*" maxFileSize="1000000" (onProgress)="uploadProgress()" (onUpload)="onBasicPimage($event)" [auto]="true" chooseLabel="Browse"></p-fileUpload>
                        <span class="imgUploadInfo">The standard size of image upload is 3:2 (eg. 780 * 520)</span>

                      </div>
                    </div>
                    <div class="row">

                      <div class="form-group col-6">
                        <label for="Name">Category</label>
                        <h4>{{model.catname}}</h4>
                      </div>
                      <div class="form-group col-6">
                        <label for="Name">Customer</label>
                        <h4>{{getUser(model.userId)}}</h4>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-12">
                        <div class="row">
                          <div class="form-group col-6">
                            <label for="latitude">Latitude:  </label>
                            <span id="latitude" ></span>
                          </div>
                          <div class="form-group col-6">
                            <label for="longitude">Longitude:  </label>
                            <span id="longitude" ></span>
                          </div>
                        </div>
                      </div>

                      <div class="col-12" >
                        <input  id="pac-input" class="controls form-control" type="text" placeholder="Search Box" />
                        <div id="map" #map></div>
                      </div>
                    </div>

                    <div class="row" *ngIf="items">
                            <ng-container *ngFor="let f of items;let j = index">
                            <div class="form-group col-6" *ngIf="f.type == 'Input' && f.name !== 'Title'">
                              <label [for]="f.name" min="0">{{f.name}}</label>
                              <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                  <span class="input-group-text" id="basic-addon1">{{f.icon}}</span>
                                </div>
                                <input type="text" [disabled]="(f.name === 'Seller Name' || f.name === 'Seller Number')" class="form-control" name="{{f.name}}{{j}}" placeholder="{{f.name}}" [(ngModel)]="f.value" #{{f.name}}="ngModel"/>

                              </div>
                             </div>
                             <div class="form-group col-6" *ngIf="f.type == 'number' || f.type == 'Number'">
                              <label [for]="f.name" min="0">{{f.name}}</label>
                              <div class="input-group mb-3">
                                <div class="input-group-prepend">
                                  <span class="input-group-text" id="basic-addon1">{{f.icon}}</span>
                                </div>
                                <input type="number" [disabled]="(f.name === 'Seller Name' || f.name === 'Seller Number')" class="form-control" name="{{f.name}}{{j}}" placeholder="{{f.name}}" [(ngModel)]="f.value" #{{f.name}}="ngModel"/>

                              </div>
                             </div>

                            <div class="form-group col-6"  *ngIf="(f.type == 'select'||f.type == 'Select') && f.name !== 'your location'">
                              <label [for]="f.name">{{f.name}}</label>
                              <p-dropdown class="pDropdwon" name="{{f.name}}{{j}}" filterBy="label,value" [filter]="true" [options]="f.option" [optionLabel]="f.label" [(ngModel)]="f.value" [name]="f.name" ></p-dropdown>
                            </div>

                            <div class="form-group col-6"  *ngIf="(f.type == 'multiselect'||f.type == 'Multiselect')">
                              <label [for]="f.name">{{f.name}}</label>
                              <p-multiSelect  class="pDropdwon" name="{{f.name}}{{j}}" filterBy="label,value" [filter]="true" [options]="f.options" [optionLabel]="f.label"  [(ngModel)]="f.value" [name]="f.name"></p-multiSelect >
                            </div>
                            <div class="form-group col-12"  *ngIf="(f.type == 'radio' || f.type == 'Radio')">
                              <label [for]="f.name">{{f.name}}</label>
                              <span *ngFor="let o of f.option">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              <input type="radio"  [checked]="o.value" [value]="o.value" class="pt-1"
                                [(ngModel)]="f.isSelected" name="{{f.name}}{{j}}" />
                                &nbsp;&nbsp;&nbsp;&nbsp;<span>{{o.label}}</span></span>
                            </div>
                            <div class="form-group col-12"  *ngIf="(f.type == 'checkbox' || f.type == 'Checkbox')">
                              <label [for]="f.name">{{f.name}}</label>
                              <input type="checkbox"  value="{{f.value}}" [checked]="f.value"  [(ngModel)]="f.value" name="{{f.name}}{{j}}" />

                            </div>
                            <div class="imageUploadContainer" *ngIf="f.type == 'Imagepicker' && (f.name !== 'Ad images' && f.name !== 'Seller profile image')">
                              <h5>Upload Image</h5>
                              <p>{{f.value}}</p>
                              <p-fileUpload #fubauto mode="basic" name="{{f.name}}{{j}}[]" [url]="uploadUrl+'imageuploadadverpost'" accept="image/*" maxFileSize="1000000" (onProgress)="uploadProgress()" (onUpload)="onBasicUploadAuto($event,j)" [auto]="true" chooseLabel="Browse"></p-fileUpload>

                              <span class="imgUploadInfo">The standard size of image upload is 3:2 (eg. 780 * 520)</span>
                            </div>
                            <div class="form-group col-12"  *ngIf="(f.type == 'Datepicker') && f.name != 'Do not disturb hours'">
                              <label [for]="f.name">{{f.name}}</label>
                              <p-calendar [(ngModel)]="f.value" name="{{f.name}}{{j}}" [readonlyInput]="true" required></p-calendar>
                            </div>
                            <div class="form-group col-12" *ngIf="(f.type == 'textarea' || f.type == 'Textarea')">
                              <label [for]="f.name">{{f.name}}</label>
                              <textarea class="form-control" name="{{f.name}}{{j}}" placeholder="{{f.name}}" [(ngModel)]="f.value" #{{f.name}}="ngModel" ></textarea>
                            </div>
                            <div class="form-group col-12" [class.d-flex]="f?.flex" *ngIf="f.type == 'DatePicker' && f.name == 'Do not disturb hours'">
                              <span  style="float:left;max-width:400px" ><label [for]="f.name" >{{f.name}}</label>
                              <span *ngFor="let o of f.option">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                              <input type="radio"  [checked]="f.isSelected == o.value" [value]="o.value" class="pt-1"
                                [(ngModel)]="f.isSelected" name="{{f.name}}{{j}}" (ngModelChange)="getDonotDistrub($event,f)" />
                                &nbsp;&nbsp;&nbsp;&nbsp;<span>{{o.label}}</span></span></span>
                                <ng-container *ngIf="f.isSelected">
                                  <ng-container *ngFor="let g of f.value;let k = index">
                                    <span style="float:left;max-width:200px"><label [for]="g.from" class="m-1 pl-3">From</label>
                                      <p-calendar [(ngModel)]="g.from" name="from" [readonlyInput]="true"
                                        [timeOnly]="true"></p-calendar></span>
                                      <span style="float:left;max-width:200px">
                                      <label [for]="g.to" class="m-1 pl-3">To</label>
                                      <p-calendar [(ngModel)]="g.to" name="to" [readonlyInput]="true"
                                        [timeOnly]="true"></p-calendar></span>
                                    </ng-container>
                                </ng-container>
                            </div>
                          </ng-container>
                    </div>
                    <div class="row" >
                      <ng-container *ngFor="let item of imgAd;let i=index;">
                        <div class=" col-4">
                          <h5>Ad image {{i+1}}</h5>
                          <img *ngIf="model.filename != ''" [src]="item.filename"
                          style="width: 60px;padding:0 10px" /><br>
                          <p-fileUpload #fubauto mode="basic" name="addimage{{i}}[]"
                            [url]="uploadUrl+'imageuploadadverpost'" accept="image/*" maxFileSize="1000000"
                            (onProgress)="uploadProgress()" (onUpload)="onBasicUploadAdd($event,i)" [auto]="true"
                            chooseLabel="Browse"></p-fileUpload>
                            <span class="imgUploadInfo">The standard size of image upload is 3:2 (eg. 780 * 520)</span>
                        </div>
                        <div class="col-2">
                          <p-button label="" icon="pi pi-minus" *ngIf="i !== 0"  styleClass="ui-button-danger" class="removeButtonOption" (onClick)="remAd(i)"></p-button>
                          <p-button label="" icon="pi pi-plus" *ngIf="6 >=i" styleClass="ui-button-info" class="removeButtonOption" (onClick)="addAd()"></p-button>
                        </div>
                      </ng-container>
                    </div>
                  </div>
              </div>

              <div class="card-footer">
                <button type="button" (click)="add_category()" class="btn btn-primary subBut pull-right" [disabled]="! addcategoryForm.valid">Submit</button>
                <button [routerLink]="['/admin/listPost']"  class="btn btn-default cancelBut"  style="font-weight: bold;float:right;">Cancel</button>
              </div>
						</form>
					</div>
				</div>
			</div>
		</div>
	</section>
</div>
